---
// Component Imports
import MainLayout from '../layouts/MainLayout.astro';
import Sidebar from '../layouts/Sidebar.astro';
import Header from '../layouts/Header.astro';

console.log("fetching...");

const response = await fetch('http://localhost:3100/api/users/');
//const response = await fetch('https://jsonplaceholder.typicode.com/users') ;

const users = await response.json() ;
console.log("fetched!");

---
<MainLayout>
	<Header slot="header" />
	<Sidebar slot="sidebar" />
	<!-- content -->
	<p>Data fetching</p>
    <div>
        { users.map((user) => <div>{user.name}</div>) }
    </div>
</MainLayout>
